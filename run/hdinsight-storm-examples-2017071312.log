2017-07-13T12:02:33.9242751+08:00 [INFO] [run.ps1(ln:29)] - Phase 1 - Prepare - Start - Preparing project configuration for C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample.
2017-07-13T12:02:34.1087925+08:00 [INFO] [CreateRunConfig.ps1(ln:33)] - Step 0: Creating Run Configuration
2017-07-13T12:02:34.2328064+08:00 [INFO] [GenerateRandomConfig.ps1(ln:87)] - Generating run configurations at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:02:34.2463147+08:00 [INFO] [GenerateRandomConfig.ps1(ln:96)] - An existing run configuration was found at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties, just updating newer entries.
2017-07-13T12:02:34.2828178+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:02:34.3218160+08:00 [INFO] [CreateRunConfig.ps1(ln:47)] - Merging Configurations with passed in values
2017-07-13T12:02:34.3318140+08:00 [INFO] [CreateRunConfig.ps1(ln:53)] - Updating Configurations with passed in values
2017-07-13T12:02:34.3418160+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:02:34.3778290+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:02:34.4268335+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_LOCATION, Value = east asia
2017-07-13T12:02:34.4328323+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-13T12:02:34.4388288+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:02:34.4468401+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-13T12:02:34.4543372+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-13T12:02:34.4618514+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB, Value = true
2017-07-13T12:02:34.4668568+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-13T12:02:34.4768519+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-13T12:02:34.4848533+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-13T12:02:34.4948545+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-13T12:02:34.5008551+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS, Value = true
2017-07-13T12:02:34.5108549+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-13T12:02:34.5168525+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-13T12:02:34.5248485+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-13T12:02:34.5308530+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-13T12:02:34.5358518+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-13T12:02:34.5418604+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE, Value = {HBASE}
2017-07-13T12:02:34.5483587+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-13T12:02:34.5553544+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:02:34.5618818+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-13T12:02:34.5668814+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-13T12:02:34.5718926+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-13T12:02:34.5828850+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA, Value = {KAFKA}
2017-07-13T12:02:34.5968804+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-13T12:02:34.6308790+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:02:34.6398797+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-13T12:02:34.6463893+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-13T12:02:34.6588874+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-13T12:02:34.6678960+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-13T12:02:34.6798964+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-13T12:02:34.6878963+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-13T12:02:34.6979009+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-13T12:02:34.7039014+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-13T12:02:34.7108938+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:02:34.7158999+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-13T12:02:34.7208940+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_URL, Value = {STORM_CLUSTER_URL}
2017-07-13T12:02:34.7308971+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-13T12:02:34.7378949+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-13T12:02:34.7419106+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET, Value = {VNET}
2017-07-13T12:02:34.7494015+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-13T12:02:34.7544047+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_NAME, Value = iot201707120034
2017-07-13T12:02:34.7639086+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_VERSION, Value = Classic
2017-07-13T12:02:34.7889088+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-13T12:02:34.7959081+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-13T12:02:34.9727104+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:03:41.3241484+08:00 [INFO] [CreateAzureResources.ps1(ln:68)] - Using Azure RM Account: 
2017-07-13T12:03:46.8832041+08:00 [INFO] [CreateAzureResources.ps1(ln:74)] - Available Subscription Names:

Name     : Microsoft Azure Internal Consumption
Id       : ec27bf0e-5e9f-49de-a202-d79128bfd111
TenantId : 72f988bf-86f1-41af-91ab-2d7cd011db47
State    : Enabled




2017-07-13T12:03:56.1457431+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:06.1937353+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:08.0656375+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:08.0806660+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:08.2978941+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:08.3148925+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:08.3248901+08:00 [INFO] [CreateAzureResources.ps1(ln:127)] - Current run configuration:
2017-07-13T12:04:08.3364361+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_LOCATION, Value = east asia
2017-07-13T12:04:08.3423969+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-13T12:04:08.3545088+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:04:08.3695045+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-13T12:04:08.3755057+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-13T12:04:08.3865499+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB, Value = true
2017-07-13T12:04:08.3935175+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-13T12:04:08.4015055+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-13T12:04:08.4105050+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-13T12:04:08.4215044+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-13T12:04:08.4275122+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS, Value = true
2017-07-13T12:04:08.4330518+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-13T12:04:08.4400081+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-13T12:04:08.4490229+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-13T12:04:08.4540265+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-13T12:04:08.4630311+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-13T12:04:08.4680244+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE, Value = {HBASE}
2017-07-13T12:04:08.4800222+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-13T12:04:08.4860206+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:04:08.4930225+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-13T12:04:08.5000226+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-13T12:04:08.5100245+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-13T12:04:08.5180220+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA, Value = {KAFKA}
2017-07-13T12:04:08.5270211+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-13T12:04:08.5325326+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:04:08.5425317+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-13T12:04:08.5530865+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-13T12:04:08.5610847+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-13T12:04:08.5710874+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-13T12:04:08.5810839+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-13T12:04:08.5880844+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-13T12:04:08.5960840+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-13T12:04:08.6060841+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-13T12:04:08.6160828+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:04:08.6250856+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-13T12:04:08.6320978+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_URL, Value = {STORM_CLUSTER_URL}
2017-07-13T12:04:08.6380961+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-13T12:04:08.6481010+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-13T12:04:08.6541048+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET, Value = {VNET}
2017-07-13T12:04:08.6591095+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-13T12:04:08.6681013+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_NAME, Value = iot201707120034
2017-07-13T12:04:08.6721053+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_VERSION, Value = Classic
2017-07-13T12:04:08.6781011+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-13T12:04:08.6851165+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-13T12:04:08.6891026+08:00 [INFO] [CreateAzureResources.ps1(ln:130)] - Using subscription: Microsoft Azure Internal Consumption - ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:04:11.4272172+08:00 [INFO] [CreateAzureResources.ps1(ln:180)] - Step 0: Creating Azure Resource Group
2017-07-13T12:04:12.6378273+08:00 [INFO] [CreateAzureResources.ps1(ln:203)] - Step 2: Creating storage account and updating key in configurations.properties
2017-07-13T12:04:15.8057154+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:45)] - Found an existing Storage account with same name: iot201707120034
2017-07-13T12:04:15.8107160+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:54)] - Getting Storage Key for iot201707120034
2017-07-13T12:04:18.1721958+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:59)] - Storage Account: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 5.5008099 secs
2017-07-13T12:04:18.1881658+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:33.2088710+08:00 [INFO] [CreateAzureResources.ps1(ln:247)] - Step 2.3: Creating DocumentDB and update account key in configurations.properties
2017-07-13T12:04:34.4100547+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:45)] - Trying to find DocumentDB account: iot201707120034 in ResourceGroup: iot-group-201707120034
2017-07-13T12:04:38.6298686+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:97)] - DocumentDB Information:


Name              : iot201707120034
ResourceId        : /subscriptions/ec27bf0e-5e9f-49de-a202-d79128bfd111/resourceGroups/iot-group-201707120034/providers/Microsoft.DocumentDB/databaseAccounts/iot2017071200
                    34
ResourceName      : iot201707120034
ResourceType      : Microsoft.DocumentDB/databaseAccounts
Kind              : GlobalDocumentDB
ResourceGroupName : iot-group-201707120034
Location          : East Asia
SubscriptionId    : ec27bf0e-5e9f-49de-a202-d79128bfd111
Tags              : {}
Properties        : @{provisioningState=Succeeded; documentEndpoint=https://iot201707120034.documents.azure.com:443/; ipRangeFilter=; enableAutomaticFailover=False; 
                    databaseAccountOfferType=Standard; consistencyPolicy=; configurationOverrides=; writeLocations=System.Object[]; readLocations=System.Object[]; 
                    failoverPolicies=System.Object[]}




2017-07-13T12:04:38.6398698+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:101)] - Found DocumentDB account information
2017-07-13T12:04:38.6488697+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:102)] - Getting account key
2017-07-13T12:04:41.3925490+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:116)] - Using subscription:


Environment           : AzureCloud
Account               : fuyujin@microsoft.com
TenantId              : 72f988bf-86f1-41af-91ab-2d7cd011db47
SubscriptionId        : ec27bf0e-5e9f-49de-a202-d79128bfd111
SubscriptionName      : Microsoft Azure Internal Consumption
CurrentStorageAccount : 




2017-07-13T12:04:43.2729044+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:128)] - DocumentDB: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 10.0300694 secs
2017-07-13T12:04:43.2839031+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:04:43.3174185+08:00 [INFO] [CreateAzureResources.ps1(ln:255)] - Step 4: Creating HDInsight Clusters
2017-07-13T12:04:44.1472327+08:00 [INFO] [CreateClusterARM.ps1(ln:57)] - Create HDInsight cluster of type: Storm with name: stormiot201707120034
2017-07-13T12:04:48.0841558+08:00 [INFO] [CreateClusterARM.ps1(ln:63)] - Getting Storage Account properties
2017-07-13T12:04:53.3613203+08:00 [INFO] [CreateClusterARM.ps1(ln:85)] - Creating Azure HDInsight Storm cluster: stormiot201707120034
2017-07-13T12:04:55.5740539+08:00 [ERROR] [CreateClusterARM.ps1(ln:119)] - Failed to create HDInsight cluster: stormiot201707120034.
New-AzureRmHDInsightCluster : BadRequest: InsufficientResourcesCores,User SubscriptionId 'ec27bf0e-5e9f-49de-a202-d79128bfd111' does not have cores left to create 
resource 'stormiot201707120034'. Required: 22, Available: 20.
At C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\scripts\azure\HDInsight\CreateClusterARM.ps1:112 char:28
+ ...  $Cluster = New-AzureRmHDInsightCluster -ResourceGroupName $ResourceG ...
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : CloseError: (:) [New-AzureRmHDInsightCluster], CloudException
    + FullyQualifiedErrorId : Microsoft.Azure.Commands.HDInsight.NewAzureHDInsightClusterCommand
 

2017-07-13T12:08:31.9393805+08:00 [INFO] [run.ps1(ln:29)] - Phase 1 - Prepare - Start - Preparing project configuration for C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample.
2017-07-13T12:08:32.1304221+08:00 [INFO] [CreateRunConfig.ps1(ln:33)] - Step 0: Creating Run Configuration
2017-07-13T12:08:32.2864283+08:00 [INFO] [GenerateRandomConfig.ps1(ln:87)] - Generating run configurations at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:08:32.2984316+08:00 [INFO] [GenerateRandomConfig.ps1(ln:96)] - An existing run configuration was found at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties, just updating newer entries.
2017-07-13T12:08:32.3314260+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:08:32.3674543+08:00 [INFO] [CreateRunConfig.ps1(ln:47)] - Merging Configurations with passed in values
2017-07-13T12:08:32.3784471+08:00 [INFO] [CreateRunConfig.ps1(ln:53)] - Updating Configurations with passed in values
2017-07-13T12:08:32.3924520+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:08:32.4444563+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:08:32.5034883+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_LOCATION, Value = east asia
2017-07-13T12:08:32.5094856+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-13T12:08:32.5144858+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:08:32.5224902+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-13T12:08:32.5304931+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-13T12:08:32.5394992+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB, Value = true
2017-07-13T12:08:32.5475010+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-13T12:08:32.5555156+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-13T12:08:32.5665149+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-13T12:08:32.5795159+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-13T12:08:32.5895138+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS, Value = true
2017-07-13T12:08:32.6005165+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-13T12:08:32.6115140+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-13T12:08:32.6195129+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-13T12:08:32.6295272+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-13T12:08:32.6370273+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-13T12:08:32.6450320+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE, Value = {HBASE}
2017-07-13T12:08:32.6525419+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-13T12:08:32.6645342+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:08:32.6715357+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-13T12:08:32.6775559+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-13T12:08:32.6855344+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-13T12:08:32.6915360+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA, Value = {KAFKA}
2017-07-13T12:08:32.7440366+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-13T12:08:32.7735473+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:08:32.7805496+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-13T12:08:32.7935553+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-13T12:08:32.8135473+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-13T12:08:32.8215451+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-13T12:08:32.8330622+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-13T12:08:32.8480623+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-13T12:08:32.8615807+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-13T12:08:32.8685797+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-13T12:08:32.8785809+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:08:32.8885796+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-13T12:08:32.8985802+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_URL, Value = {STORM_CLUSTER_URL}
2017-07-13T12:08:32.9055795+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-13T12:08:32.9105790+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-13T12:08:32.9155797+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET, Value = {VNET}
2017-07-13T12:08:32.9215777+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-13T12:08:32.9410901+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_NAME, Value = iot201707120034
2017-07-13T12:08:32.9470895+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_VERSION, Value = Classic
2017-07-13T12:08:32.9556066+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-13T12:08:32.9686065+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-13T12:08:33.2676511+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:09:51.2612669+08:00 [INFO] [CreateAzureResources.ps1(ln:68)] - Using Azure RM Account: 
2017-07-13T12:09:56.4636095+08:00 [INFO] [CreateAzureResources.ps1(ln:74)] - Available Subscription Names:

Name     : Microsoft Azure Internal Consumption
Id       : ec27bf0e-5e9f-49de-a202-d79128bfd111
TenantId : 72f988bf-86f1-41af-91ab-2d7cd011db47
State    : Enabled




2017-07-13T12:10:02.9042747+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:05.5218965+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:06.0913186+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:06.1122794+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:06.2856724+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:06.2991307+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:06.3232965+08:00 [INFO] [CreateAzureResources.ps1(ln:127)] - Current run configuration:
2017-07-13T12:10:06.3313476+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_LOCATION, Value = east asia
2017-07-13T12:10:06.3402964+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-13T12:10:06.3483110+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:10:06.3542980+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-13T12:10:06.3652966+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-13T12:10:06.3732962+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB, Value = true
2017-07-13T12:10:06.3782969+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-13T12:10:06.3882963+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-13T12:10:06.4013297+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-13T12:10:06.4088753+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-13T12:10:06.4160100+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS, Value = true
2017-07-13T12:10:06.4220448+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-13T12:10:06.4324315+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-13T12:10:06.4414084+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-13T12:10:06.4493858+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-13T12:10:06.4543722+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-13T12:10:06.4662941+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE, Value = {HBASE}
2017-07-13T12:10:06.4753002+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-13T12:10:06.4837903+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:10:06.4918567+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-13T12:10:06.5021066+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-13T12:10:06.5106022+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-13T12:10:06.5186638+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA, Value = {KAFKA}
2017-07-13T12:10:06.5266630+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-13T12:10:06.5346659+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:10:06.5456602+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-13T12:10:06.5536649+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-13T12:10:06.5656605+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-13T12:10:06.5746585+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-13T12:10:06.5816590+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-13T12:10:06.5876606+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-13T12:10:06.5946600+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-13T12:10:06.6016677+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-13T12:10:06.6091794+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-13T12:10:06.6156806+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-13T12:10:06.6226935+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_URL, Value = {STORM_CLUSTER_URL}
2017-07-13T12:10:06.6276806+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-13T12:10:06.6326819+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-13T12:10:06.6396824+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET, Value = {VNET}
2017-07-13T12:10:06.6476805+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-13T12:10:06.6556856+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_NAME, Value = iot201707120034
2017-07-13T12:10:06.6606841+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_VERSION, Value = Classic
2017-07-13T12:10:06.6666799+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-13T12:10:06.6746802+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-13T12:10:06.6826817+08:00 [INFO] [CreateAzureResources.ps1(ln:130)] - Using subscription: Microsoft Azure Internal Consumption - ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-13T12:10:09.5930000+08:00 [INFO] [CreateAzureResources.ps1(ln:180)] - Step 0: Creating Azure Resource Group
2017-07-13T12:10:10.7158718+08:00 [INFO] [CreateAzureResources.ps1(ln:203)] - Step 2: Creating storage account and updating key in configurations.properties
2017-07-13T12:10:13.9212301+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:45)] - Found an existing Storage account with same name: iot201707120034
2017-07-13T12:10:13.9282306+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:54)] - Getting Storage Key for iot201707120034
2017-07-13T12:10:16.1427766+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:59)] - Storage Account: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 5.4038952 secs
2017-07-13T12:10:16.1537748+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:31.1790069+08:00 [INFO] [CreateAzureResources.ps1(ln:247)] - Step 2.3: Creating DocumentDB and update account key in configurations.properties
2017-07-13T12:10:32.0132894+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:45)] - Trying to find DocumentDB account: iot201707120034 in ResourceGroup: iot-group-201707120034
2017-07-13T12:10:35.6262577+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:97)] - DocumentDB Information:


Name              : iot201707120034
ResourceId        : /subscriptions/ec27bf0e-5e9f-49de-a202-d79128bfd111/resourceGroups/iot-group-201707120034/providers/Microsoft.DocumentDB/databaseAccounts/iot2017071200
                    34
ResourceName      : iot201707120034
ResourceType      : Microsoft.DocumentDB/databaseAccounts
Kind              : GlobalDocumentDB
ResourceGroupName : iot-group-201707120034
Location          : East Asia
SubscriptionId    : ec27bf0e-5e9f-49de-a202-d79128bfd111
Tags              : {}
Properties        : @{provisioningState=Succeeded; documentEndpoint=https://iot201707120034.documents.azure.com:443/; ipRangeFilter=; enableAutomaticFailover=False; 
                    databaseAccountOfferType=Standard; consistencyPolicy=; configurationOverrides=; writeLocations=System.Object[]; readLocations=System.Object[]; 
                    failoverPolicies=System.Object[]}




2017-07-13T12:10:35.6407669+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:101)] - Found DocumentDB account information
2017-07-13T12:10:35.6462649+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:102)] - Getting account key
2017-07-13T12:10:39.1117743+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:116)] - Using subscription:


Environment           : AzureCloud
Account               : fuyujin@microsoft.com
TenantId              : 72f988bf-86f1-41af-91ab-2d7cd011db47
SubscriptionId        : ec27bf0e-5e9f-49de-a202-d79128bfd111
SubscriptionName      : Microsoft Azure Internal Consumption
CurrentStorageAccount : 




2017-07-13T12:10:43.9743652+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:128)] - DocumentDB: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 12.7603791 secs
2017-07-13T12:10:43.9863659+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-13T12:10:44.0443649+08:00 [INFO] [CreateAzureResources.ps1(ln:255)] - Step 4: Creating HDInsight Clusters
2017-07-13T12:10:44.9632864+08:00 [INFO] [CreateClusterARM.ps1(ln:57)] - Create HDInsight cluster of type: Storm with name: stormiot201707120034
2017-07-13T12:10:46.1701460+08:00 [INFO] [CreateClusterARM.ps1(ln:63)] - Getting Storage Account properties
2017-07-13T12:10:51.4337042+08:00 [INFO] [CreateClusterARM.ps1(ln:85)] - Creating Azure HDInsight Storm cluster: stormiot201707120034
2017-07-13T12:11:54.5670378+08:00 [INFO] [CreateClusterARM.ps1(ln:125)] - 

Name                      : stormiot201707120034
Id                        : /subscriptions/ec27bf0e-5e9f-49de-a202-d79128bfd111/resourceGroups/iot-group-201707120034/providers/Microsoft.HDInsight/clusters/stormiot201707
                            120034
Location                  : East Asia
ClusterVersion            : 3.2.7.1234
OperatingSystemType       : Windows
ClusterTier               : Standard
ClusterState              : Error
ClusterType               : Storm
CoresUsed                 : 22
HttpEndpoint              : stormiot201707120034.cloudapp.net
Error                     : Pre cluster creation validation failed for cluster stormiot201707120034 due to user error. 
                                                    Validation Report: Could not validate storage account iot201707120034.blob.core.windows.net. Cannot proceed with 
                            cluster creation. Exception: An exception has occurred: The input is not a valid Base-64 string as it contains a non-base 64 character, more 
                            than two padding characters, or an illegal character among the padding characters. 
                            	Stack trace:    at System.Convert.FromBase64_Decode(Char* startInputPtr, Int32 inputLength, Byte* startDestPtr, Int32 destLength)
                               at System.Convert.FromBase64CharPtr(Char* inputPtr, Int32 inputLength)
                               at System.Convert.FromBase64String(String s)
                               at Microsoft.WindowsAzure.Storage.Auth.StorageCredentials.UpdateKey(String keyValue, String keyName)
                               at Microsoft.ClusterServices.Core.Utils.UtilsHelper.VerifyCloudTableEndpointAccessibility(String storageAccountName, String key) in 
                            f:\B\14841\4093\Sources\src\HadoopServices\Common\DeploymentService.Core\Utils\UtilsHelper.cs:line 708
                               at Microsoft.ClusterServices.DataAccess.Context.Extensions.ASVAccountExtensions.TryAccessAsvAccount(ASVAccount account) in 
                            f:\B\14841\4093\Sources\src\HadoopServices\Common\DeploymentService.Core\Models\ASVAccountExtensions.cs:line 111
                               at Microsoft.ClusterServices.RDFEProvider.Worker.Workflow.Activities.Azure.PreClusterCreationValidationActivity.ValidateAsvAccountsAreAccess
                            ible(WorkflowExecutionContext context, ClusterDeployment deployment) in 
                            f:\B\14841\4093\Sources\src\HadoopServices\RDFE\DeploymentWorkerService\Workflow\Activities\Azure\PreClusterCreationValidationActivity.cs:line 
                            190
                            	Extended error information: (N/A)
                            
                            
DefaultStorageAccount     : 
DefaultStorageContainer   : 
DefaultStorageRootPath    : 
ResourceGroup             : iot-group-201707120034
AdditionalStorageAccounts : 
ComponentVersion          : {}
SecurityProfile           : 




2017-07-13T12:12:27.8283183+08:00 [INFO] [CreateClusterARM.ps1(ln:134)] - HDInsight Cluster: stormiot201707120034, Type: Storm, State: Error
2017-07-13T12:12:27.8522905+08:00 [ERROR] [CreateClusterARM.ps1(ln:139)] - HDInsight Cluster: stormiot201707120034 is in Error state. Please check the error message, delete and retry again.
2017-07-13T12:12:27.8607959+08:00 [ERROR] [CreateClusterARM.ps1(ln:146)] - HDInsight Cluster: stormiot201707120034 is not in a running/operational state. State: Error
