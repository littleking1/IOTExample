2017-07-17T15:18:05.2544842+08:00 [INFO] [run.ps1(ln:29)] - Phase 1 - Prepare - Start - Preparing project configuration for C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample.
2017-07-17T15:18:05.3914796+08:00 [INFO] [CreateRunConfig.ps1(ln:33)] - Step 0: Creating Run Configuration
2017-07-17T15:18:05.5864758+08:00 [INFO] [GenerateRandomConfig.ps1(ln:87)] - Generating run configurations at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:18:05.5964800+08:00 [INFO] [GenerateRandomConfig.ps1(ln:96)] - An existing run configuration was found at C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties, just updating newer entries.
2017-07-17T15:18:05.6274755+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:18:05.6644752+08:00 [INFO] [CreateRunConfig.ps1(ln:47)] - Merging Configurations with passed in values
2017-07-17T15:18:05.6784729+08:00 [INFO] [CreateRunConfig.ps1(ln:53)] - Updating Configurations with passed in values
2017-07-17T15:18:05.6874729+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:18:05.7184720+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:18:05.7714707+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_LOCATION, Value = east asia
2017-07-17T15:18:05.7774753+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-17T15:18:05.7854724+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-17T15:18:05.7924765+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-17T15:18:05.8054692+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-17T15:18:05.8144950+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB, Value = true
2017-07-17T15:18:05.8225235+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-17T15:18:05.8325245+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-17T15:18:05.8424897+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-17T15:18:05.8494858+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-17T15:18:05.8574723+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS, Value = true
2017-07-17T15:18:05.8634806+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-17T15:18:05.8714697+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-17T15:18:05.8784752+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-17T15:18:05.8844689+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-17T15:18:05.8914734+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-17T15:18:05.8994701+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE, Value = {HBASE}
2017-07-17T15:18:05.9044701+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-17T15:18:05.9144685+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:18:05.9214675+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-17T15:18:05.9294715+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-17T15:18:05.9385178+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-17T15:18:05.9434711+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA, Value = {KAFKA}
2017-07-17T15:18:05.9494716+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-17T15:18:05.9874672+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:18:05.9954687+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-17T15:18:06.0014678+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-17T15:18:06.0104689+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-17T15:18:06.0404667+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-17T15:18:06.0484685+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-17T15:18:06.0534666+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-17T15:18:06.0595314+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-17T15:18:06.0665111+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-17T15:18:06.0745458+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:18:06.0825276+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-17T15:18:06.0905480+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_URL, Value = https://stormiot201707120034.azurehdinsight.net
2017-07-17T15:18:06.0995024+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-17T15:18:06.1045019+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-17T15:18:06.1115035+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET, Value = {VNET}
2017-07-17T15:18:06.1155203+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-17T15:18:06.1235014+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_NAME, Value = iot201707120034
2017-07-17T15:18:06.1295074+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = VNET_VERSION, Value = Classic
2017-07-17T15:18:06.1375443+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-17T15:18:06.1435040+08:00 [INFO] [CreateRunConfig.ps1(ln:57)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-17T15:18:06.3658199+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:11.6530589+08:00 [INFO] [CreateAzureResources.ps1(ln:68)] - Using Azure RM Account: 
2017-07-17T15:19:18.5628625+08:00 [INFO] [CreateAzureResources.ps1(ln:74)] - Available Subscription Names:

Name     : Microsoft Azure Internal Consumption
Id       : ec27bf0e-5e9f-49de-a202-d79128bfd111
TenantId : 72f988bf-86f1-41af-91ab-2d7cd011db47
State    : Enabled




2017-07-17T15:19:24.3984154+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:27.1217806+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:28.4020685+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:28.4170528+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:29.7124512+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:29.7294047+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:29.7354478+08:00 [INFO] [CreateAzureResources.ps1(ln:127)] - Current run configuration:
2017-07-17T15:19:29.7424055+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_LOCATION, Value = east asia
2017-07-17T15:19:29.7474003+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_RESOURCE_GROUP, Value = iot-group-201707120034
2017-07-17T15:19:29.7524005+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_ID, Value = ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-17T15:19:29.7654000+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_SUBSCRIPTION_NAME, Value = Microsoft Azure Internal Consumption
2017-07-17T15:19:29.7744024+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = AZURE_TENANT_ID, Value = 72f988bf-86f1-41af-91ab-2d7cd011db47
2017-07-17T15:19:29.7814432+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB, Value = true
2017-07-17T15:19:29.7873989+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_ACCOUNT, Value = iot201707120034
2017-07-17T15:19:29.7963998+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_COLLECTION, Value = iot201707120034
2017-07-17T15:19:29.8033973+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_DATABASE, Value = iot201707120034
2017-07-17T15:19:29.8134010+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = DOCUMENTDB_HOST, Value = https://iot201707120034.documents.azure.com:443/
2017-07-17T15:19:29.8184027+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS, Value = true
2017-07-17T15:19:29.8254199+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_ENTITY_PATH, Value = iot201707120034
2017-07-17T15:19:29.8323973+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_FQDN_SUFFIX, Value = servicebus.windows.net
2017-07-17T15:19:29.8384026+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_NAMESPACE, Value = iot201707120034
2017-07-17T15:19:29.8443994+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_PARTITION_COUNT, Value = 2
2017-07-17T15:19:29.8493964+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = EVENTHUBS_USERNAME, Value = root
2017-07-17T15:19:29.8553961+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE, Value = {HBASE}
2017-07-17T15:19:29.8623987+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_NAME, Value = hbaseiot201707120034
2017-07-17T15:19:29.8733980+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:19:29.8854052+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_SIZE, Value = 2
2017-07-17T15:19:29.8924413+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_URL, Value = {HBASE_CLUSTER_URL}
2017-07-17T15:19:29.9003949+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = HBASE_CLUSTER_USERNAME, Value = admin
2017-07-17T15:19:29.9053966+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA, Value = {KAFKA}
2017-07-17T15:19:29.9123941+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_NAME, Value = kafkaiot201707120034
2017-07-17T15:19:29.9193949+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:19:29.9253968+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_SIZE, Value = 2
2017-07-17T15:19:29.9313995+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_URL, Value = {KAFKA_CLUSTER_URL}
2017-07-17T15:19:29.9374379+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = KAFKA_CLUSTER_USERNAME, Value = admin
2017-07-17T15:19:29.9493952+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE, Value = {SQLAZURE}
2017-07-17T15:19:29.9544009+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_DB_NAME, Value = iot201707120034
2017-07-17T15:19:29.9603933+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_SERVER_NAME, Value = iot201707120034
2017-07-17T15:19:29.9663967+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SQLAZURE_USER, Value = sqladmin
2017-07-17T15:19:29.9733931+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_NAME, Value = stormiot201707120034
2017-07-17T15:19:29.9813945+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_OS_TYPE, Value = Windows
2017-07-17T15:19:29.9963948+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_SIZE, Value = 2
2017-07-17T15:19:30.0024307+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_URL, Value = https://stormiot201707120034.azurehdinsight.net
2017-07-17T15:19:30.0154739+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = STORM_CLUSTER_USERNAME, Value = admin
2017-07-17T15:19:30.0204720+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = SUBNET_NAME, Value = iot201707120034
2017-07-17T15:19:30.0264735+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET, Value = {VNET}
2017-07-17T15:19:30.0338171+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_ID, Value = {VNET_ID}
2017-07-17T15:19:30.0398143+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_NAME, Value = iot201707120034
2017-07-17T15:19:30.0508139+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = VNET_VERSION, Value = Classic
2017-07-17T15:19:30.0558149+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_ACCOUNT_NAME, Value = iot201707120034
2017-07-17T15:19:30.0638342+08:00 [INFO] [CreateAzureResources.ps1(ln:128)] - Key = WASB_CONTAINER, Value = iot201707120034
2017-07-17T15:19:30.0698347+08:00 [INFO] [CreateAzureResources.ps1(ln:130)] - Using subscription: Microsoft Azure Internal Consumption - ec27bf0e-5e9f-49de-a202-d79128bfd111
2017-07-17T15:19:32.6933236+08:00 [INFO] [CreateAzureResources.ps1(ln:180)] - Step 0: Creating Azure Resource Group
2017-07-17T15:19:34.3550448+08:00 [INFO] [CreateAzureResources.ps1(ln:203)] - Step 2: Creating storage account and updating key in configurations.properties
2017-07-17T15:19:37.6261710+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:45)] - Found an existing Storage account with same name: iot201707120034
2017-07-17T15:19:37.6391693+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:54)] - Getting Storage Key for iot201707120034
2017-07-17T15:19:39.9196498+08:00 [INFO] [CreateStorageAccountARM.ps1(ln:59)] - Storage Account: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 5.5425952 secs
2017-07-17T15:19:39.9296068+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:19:54.9559248+08:00 [INFO] [CreateAzureResources.ps1(ln:233)] - Step 2.2: Creating Event Hubs
2017-07-17T15:19:54.9899024+08:00 [INFO] [(ln:)] - iot201707120034 iot201707120034 root east asia 2
2017-07-17T15:19:55.6067728+08:00 [INFO] [CreateEventHubs.ps1(ln:43)] - Adding the C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\packages\WindowsAzure.ServiceBus.4.1.2\lib\net45\Microsoft.ServiceBus.dll assembly to the script...
2017-07-17T15:19:55.8328918+08:00 [INFO] [CreateEventHubs.ps1(ln:45)] - The C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\packages\WindowsAzure.ServiceBus.4.1.2\lib\net45\Microsoft.ServiceBus.dll assembly has been successfully added to the script.
2017-07-17T15:19:58.4815573+08:00 [INFO] [CreateEventHubs.ps1(ln:57)] - The namespace: iot201707120034 already exists in location: 
2017-07-17T15:20:00.7528250+08:00 [INFO] [CreateEventHubs.ps1(ln:100)] - The event hub:  already exists in the namespace: iot201707120034.
2017-07-17T15:20:07.5425443+08:00 [INFO] [CreateEventHubs.ps1(ln:174)] - CreateEventHubs completed in 11.70165 seconds.
2017-07-17T15:20:10.4617446+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:20:10.4807441+08:00 [INFO] [CreateAzureResources.ps1(ln:247)] - Step 2.3: Creating DocumentDB and update account key in configurations.properties
2017-07-17T15:20:11.3541360+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:45)] - Trying to find DocumentDB account: iot201707120034 in ResourceGroup: iot-group-201707120034
2017-07-17T15:20:15.6983272+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:97)] - DocumentDB Information:


Name              : iot201707120034
ResourceId        : /subscriptions/ec27bf0e-5e9f-49de-a202-d79128bfd111/resourceGroups/iot-group-201707120034/providers
                    /Microsoft.DocumentDB/databaseAccounts/iot201707120034
ResourceName      : iot201707120034
ResourceType      : Microsoft.DocumentDB/databaseAccounts
Kind              : GlobalDocumentDB
ResourceGroupName : iot-group-201707120034
Location          : East Asia
SubscriptionId    : ec27bf0e-5e9f-49de-a202-d79128bfd111
Tags              : {}
Properties        : @{provisioningState=Succeeded; documentEndpoint=https://iot201707120034.documents.azure.com:443/; 
                    ipRangeFilter=; enableAutomaticFailover=False; databaseAccountOfferType=Standard; 
                    consistencyPolicy=; configurationOverrides=; writeLocations=System.Object[]; 
                    readLocations=System.Object[]; failoverPolicies=System.Object[]}




2017-07-17T15:20:15.7082904+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:101)] - Found DocumentDB account information
2017-07-17T15:20:15.7142913+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:102)] - Getting account key
2017-07-17T15:20:18.3862058+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:116)] - Using subscription:


Environment           : AzureCloud
Account               : fuyujin@microsoft.com
TenantId              : 72f988bf-86f1-41af-91ab-2d7cd011db47
SubscriptionId        : ec27bf0e-5e9f-49de-a202-d79128bfd111
SubscriptionName      : Microsoft Azure Internal Consumption
CurrentStorageAccount : 




2017-07-17T15:20:20.8253707+08:00 [INFO] [CreateDocumentDBARM.ps1(ln:128)] - DocumentDB: iot201707120034 successfully created in Resource Group: iot-group-201707120034 at Location: east asia. Time: 10.3006284 secs
2017-07-17T15:20:20.8393707+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:20:20.8583721+08:00 [INFO] [CreateAzureResources.ps1(ln:255)] - Step 4: Creating HDInsight Clusters
2017-07-17T15:20:21.8763499+08:00 [INFO] [CreateClusterARM.ps1(ln:57)] - Create HDInsight cluster of type: Storm with name: stormiot201707120034
2017-07-17T15:20:25.5919005+08:00 [INFO] [CreateClusterARM.ps1(ln:125)] - 

Name                      : stormiot201707120034
Id                        : /subscriptions/ec27bf0e-5e9f-49de-a202-d79128bfd111/resourceGroups/iot-group-201707120034/p
                            roviders/Microsoft.HDInsight/clusters/stormiot201707120034
Location                  : East Asia
ClusterVersion            : 3.2.7.1234
OperatingSystemType       : Windows
ClusterTier               : Standard
ClusterState              : Running
ClusterType               : Storm
CoresUsed                 : 22
HttpEndpoint              : stormiot201707120034.azurehdinsight.net
Error                     : 
DefaultStorageAccount     : iot201707120034.blob.core.windows.net
DefaultStorageContainer   : iot201707120034
DefaultStorageRootPath    : 
ResourceGroup             : iot-group-201707120034
AdditionalStorageAccounts : {}
ComponentVersion          : {}
SecurityProfile           : 




2017-07-17T15:20:25.6198641+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:20:25.6358677+08:00 [INFO] [CreateAzureResources.ps1(ln:328)] - Azure resources created, completed in 52.9565415 seconds.
2017-07-17T15:20:25.6498666+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:20:25.6628631+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\docdb.config
2017-07-17T15:20:25.6718648+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_HOST with value: https://iot201707120034.documents.azure.com:443/
2017-07-17T15:20:25.6798629+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_DATABASE with value: iot201707120034
2017-07-17T15:20:25.6878658+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_KEY with value: 0jWFQxsYbNplqmSeOCRJdHEHPnJlcddkIncYvEmDuvdWJlDq64LwcaM9KegzZWeJ9NZG0T7Wb9SKYt5KNp8YMw==
2017-07-17T15:20:25.6958661+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_COLLECTION with value: iot201707120034
2017-07-17T15:20:25.7088633+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\eventhubs.config
2017-07-17T15:20:25.7248643+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_PARTITION_COUNT with value: 2
2017-07-17T15:20:25.7368609+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_FQDN_SUFFIX with value: servicebus.windows.net
2017-07-17T15:20:25.7458640+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_ENTITY_PATH with value: iot201707120034
2017-07-17T15:20:25.7538585+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_USERNAME with value: root
2017-07-17T15:20:25.7588601+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_PASSWORD with value: wE1KKDVLVSgFjeM4pdnps8w4RniO78MnHQ9Fi5pTTQc=
2017-07-17T15:20:25.7668601+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_NAMESPACE with value: iot201707120034
2017-07-17T15:20:25.7808638+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\iot\src\main\resources\myconfig.properties
2017-07-17T15:20:25.7958594+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_PARTITION_COUNT with value: 2
2017-07-17T15:20:25.8058595+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_FQDN_SUFFIX with value: servicebus.windows.net
2017-07-17T15:20:25.8138590+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_ENTITY_PATH with value: iot201707120034
2017-07-17T15:20:25.8258579+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_HOST with value: https://iot201707120034.documents.azure.com:443/
2017-07-17T15:20:25.8368589+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_DATABASE with value: iot201707120034
2017-07-17T15:20:25.8418595+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_KEY with value: 0jWFQxsYbNplqmSeOCRJdHEHPnJlcddkIncYvEmDuvdWJlDq64LwcaM9KegzZWeJ9NZG0T7Wb9SKYt5KNp8YMw==
2017-07-17T15:20:25.8598563+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_USERNAME with value: root
2017-07-17T15:20:25.8648645+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_PASSWORD with value: wE1KKDVLVSgFjeM4pdnps8w4RniO78MnHQ9Fi5pTTQc=
2017-07-17T15:20:25.8728579+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating DOCUMENTDB_COLLECTION with value: iot201707120034
2017-07-17T15:20:25.8838579+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating EVENTHUBS_NAMESPACE with value: iot201707120034
2017-07-17T15:20:25.8998589+08:00 [INFO] [ReplaceStringInFile.ps1(ln:33)] - Replacing configurations in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\iot\src\main\resources\core-site.xml
2017-07-17T15:20:25.9108541+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating WASB_ACCOUNT_NAME with value: iot201707120034
2017-07-17T15:20:25.9198624+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating WASB_CONTAINER with value: iot201707120034
2017-07-17T15:20:25.9278572+08:00 [INFO] [ReplaceStringInFile.ps1(ln:46)] - Updating WASB_ACCOUNT_KEY with value: CjWkK06hzmmz0jEluYTpX3HTyzy5nOsbXmNbw4gjA+KIlS09E+WWa/EWeuKD3dwvs/kYWuYqCHpxiIKXGf9G0Q==
2017-07-17T15:20:25.9408573+08:00 [INFO] [run.ps1(ln:45)] - Phase 1 - Preparation - End - Preparation complete for C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample.
2017-07-17T15:20:25.9478566+08:00 [INFO] [run.ps1(ln:50)] - Phase 2 - Build - Start - Building C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample
2017-07-17T15:20:26.3688388+08:00 [INFO] [buildJava.ps1(ln:22)] - Found JAVA_HOME environment variable with value: 'C:\Program Files\Java\jdk1.8.0_131'
2017-07-17T15:20:26.4898778+08:00 [ERROR] [getMavenTools.ps1(ln:25)] - M2_HOME not found. Downloading Maven tools.
2017-07-17T15:20:26.5008370+08:00 [INFO] [getMavenTools.ps1(ln:31)] - Downloading Maven from http://www.us.apache.org/dist/maven/maven-3/3.2.5/binaries/apache-maven-3.2.5-bin.zip to C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\scripts\build\..\..\tools\maven-bin.zip
2017-07-17T15:20:26.5308369+08:00 [INFO] [installMvnLib.ps1(ln:24)] - Pushing MVN libs
2017-07-17T15:20:42.7422057+08:00 [INFO] [buildJava.ps1(ln:41)] - Building Java Projects
2017-07-17T15:20:42.7511618+08:00 [INFO] [buildJava.ps1(ln:42)] - ======================
2017-07-17T15:20:42.7801636+08:00 [INFO] [buildJava.ps1(ln:44)] - Building Java Project: C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\docdbgen
2017-07-17T15:20:49.5647628+08:00 [INFO] [buildJava.ps1(ln:44)] - Building Java Project: C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\eventgen
2017-07-17T15:20:57.0437421+08:00 [INFO] [buildJava.ps1(ln:44)] - Building Java Project: C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\iot
2017-07-17T15:21:11.8070373+08:00 [INFO] [buildJava.ps1(ln:63)] - Project building complete!

2017-07-17T15:21:11.8160394+08:00 [INFO] [buildJava.ps1(ln:64)] - Build Summary:
2017-07-17T15:21:11.8210451+08:00 [INFO] [buildJava.ps1(ln:65)] - ======================
2017-07-17T15:21:11.8300365+08:00 [INFO] [buildJava.ps1(ln:77)] - SUCCESS: All projects built successfully!
2017-07-17T15:21:11.8370413+08:00 [INFO] [buildJava.ps1(ln:78)] - C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\docdbgen\pom.xml
2017-07-17T15:21:11.8430374+08:00 [INFO] [buildJava.ps1(ln:78)] - C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\eventgen\pom.xml
2017-07-17T15:21:11.8520401+08:00 [INFO] [buildJava.ps1(ln:78)] - C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\iot\pom.xml
2017-07-17T15:21:11.8950742+08:00 [INFO] [build.ps1(ln:23)] - Build Complete for 'C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample!'
2017-07-17T15:21:11.9090425+08:00 [INFO] [run.ps1(ln:65)] - Build complete for C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample
2017-07-17T15:21:11.9140726+08:00 [INFO] [run.ps1(ln:70)] - Phase 3 - Execute - Start - Executing the example in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample
2017-07-17T15:21:11.9400321+08:00 [INFO] [ReadConfig.ps1(ln:26)] - Reading configurations from C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\run\configurations.properties
2017-07-17T15:21:18.3153029+08:00 [INFO] [execute.ps1(ln:30)] - Starting DocDbGen process
2017-07-17T15:21:18.3593018+08:00 [INFO] [execute.ps1(ln:43)] - Starting EventGen process
2017-07-17T15:21:18.3772989+08:00 [INFO] [execute.ps1(ln:72)] - Starting Storm topology for IoT
2017-07-17T15:21:21.0383604+08:00 [INFO] [UploadFileToStorageARM.ps1(ln:45)] - Checking if the container iot201707120034 exists in Storage account: [iot201707120034]
2017-07-17T15:21:21.5315174+08:00 [INFO] [UploadFileToStorageARM.ps1(ln:61)] - Copying the file [C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample\iot\target\iot-1.0.jar] from local to Blob [Storm/SubmittedJars/iot-1.0.jar]
2017-07-17T15:22:24.9688713+08:00 [INFO] [UploadFileToStorageARM.ps1(ln:63)] - [SUCCESS] Uploaded blob to: https://iot201707120034.blob.core.windows.net/iot201707120034/Storm/SubmittedJars/iot-1.0.jar
2017-07-17T15:22:25.0558689+08:00 [INFO] [SubmitStormTopologyWindows.ps1(ln:47)] - Sending POST request at: https://stormiot201707120034.azurehdinsight.net/StormDashboard/SubmitWasbJar
2017-07-17T15:22:45.4717097+08:00 [INFO] [SubmitStormTopologyWindows.ps1(ln:53)] - Successfully submitted topology: com.microsoft.hdinsight.storm.examples.IotTopology
2017-07-17T15:22:45.4777109+08:00 [INFO] [SubmitStormTopologyWindows.ps1(ln:54)] - Response:


Commandline     : storm jar "D:\Windows\TEMP\stormsubmit\jars\iot-1.0\a2b14f8d-dda6-4790-9907-ffae16ccb1ea\iot-1.0.jar" 
                  "com.microsoft.hdinsight.storm.examples.IotTopology" IotTopology
StartTimeUTC    : 7/17/2017 7:22:27 AM
Completed       : True
ExitCode        : 1
StdOut          : Eventhub spout config: 
                    partition count: 2
                    checkpoint interval: 10
                    receiver credits: 1024
                  
                  
StdErr          : SLF4J: Class path contains multiple SLF4J bindings.
                  SLF4J: Found binding in [jar:file:/C:/apps/dist/storm-0.9.3.2.2.9.1-20/lib/logback-classic-1.0.13.jar!/org/slf4j/impl/StaticLoggerBinder.class]
                  SLF4J: Found binding in 
                  [jar:file:/D:/Windows/Temp/stormsubmit/jars/iot-1.0/a2b14f8d-dda6-4790-9907-ffae16ccb1ea/iot-1.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]
                  SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
                  SLF4J: Actual binding is of type [ch.qos.logback.classic.util.ContextSelectorStaticBinder]
                  Exception in thread "main" java.lang.RuntimeException: Topology with name `IotTopology` already exists on cluster
                  	at backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:213)
                  	at backtype.storm.StormSubmitter.submitTopology(StormSubmitter.java:157)
                  	at com.microsoft.hdinsight.storm.examples.IotTopology.submitTopology(IotTopology.java:127)
                  	at com.microsoft.hdinsight.storm.examples.IotTopology.runScenario(IotTopology.java:148)
                  	at com.microsoft.hdinsight.storm.examples.IotTopology.main(IotTopology.java:153)
                  
                  
StormListOutput : Topology_name        Status     Num_tasks  Num_workers  Uptime_secs
                  -------------------------------------------------------------------
                  IotTopology          ACTIVE     19         2            313025    
                  
                  




2017-07-17T15:22:45.4867111+08:00 [INFO] [execute.ps1(ln:87)] - Waiting for a short while for topologies to get started ...
2017-07-17T15:23:00.6792309+08:00 [INFO] [GetStormSummary.ps1(ln:38)] - Cluster Summary: https://stormiot201707120034.azurehdinsight.net/stormui/api/v1/cluster/summary


slotsFree      : 6
executorsTotal : 19
supervisors    : 2
user           : 
topologies     : 1
slotsTotal     : 8
stormVersion   : 0.9.3.2.2.9.1-20
slotsUsed      : 2
tasksTotal     : 19
nimbusUptime   : 3d 22h 16m 2s




2017-07-17T15:23:00.8562243+08:00 [INFO] [GetStormSummary.ps1(ln:42)] - Topology Summary: https://stormiot201707120034.azurehdinsight.net/stormui/api/v1/topology/summary


executorsTotal : 19
uptime         : 3d 14h 57m 21s
schedulerInfo  : 
name           : IotTopology
workersTotal   : 2
status         : ACTIVE
owner          : 
tasksTotal     : 19
id             : IotTopology-1-1499963138




2017-07-17T15:23:00.8782352+08:00 [INFO] [LaunchStormUI.ps1(ln:44)] - Launching browser for Storm dashboard: https://stormiot201707120034.azurehdinsight.net/StormDashboard/StormExtUI
2017-07-17T15:23:00.8842248+08:00 [INFO] [LaunchStormUI.ps1(ln:45)] - Please use the following credentials in your browser window:
2017-07-17T15:23:00.8892257+08:00 [INFO] [LaunchStormUI.ps1(ln:46)] - Storm Cluster Username: admin
2017-07-17T15:23:00.8982303+08:00 [INFO] [LaunchStormUI.ps1(ln:47)] - Storm Cluster Password: Ig6(0wxRQnwS
2017-07-17T15:23:01.3962117+08:00 [INFO] [execute.ps1(ln:93)] - If you notice throttling errors from DocumentDB make sure to increase your scale factor.
2017-07-17T15:23:01.4582085+08:00 [INFO] [run.ps1(ln:86)] - Phase 3 - Execute - End - Executed the example in C:\Users\fuyujin\Source\Repos\hdinsight-storm-examples\IotExample
2017-07-17T15:23:01.4922095+08:00 [INFO] [run.ps1(ln:89)] - Run Complete! Please use cleanup.bat for deleting all the created resources.
